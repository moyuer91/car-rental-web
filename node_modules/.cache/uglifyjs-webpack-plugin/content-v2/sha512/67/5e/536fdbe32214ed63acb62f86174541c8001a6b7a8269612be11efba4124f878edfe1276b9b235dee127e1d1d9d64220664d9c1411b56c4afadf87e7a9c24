{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[46],{\"p/du\":function(e,a,s){\"use strict\";s.r(a);var t=s(\"d6i3\"),r=s.n(t),n=s(\"p0pE\"),i=s.n(n),p=s(\"bmkC\"),c=s(\"QArB\"),u=s(\"SlhZ\");a[\"default\"]={namespace:\"visapage\",state:{pageName:\"\",descr:\"\",elements:[]},effects:{fetch:r.a.mark(function e(a,s){var t,n,o,l,f,d,g,m;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.payload,n=s.call,o=s.put,e.next=4,n(c[\"a\"],t);case 4:for(l=e.sent,f=Object(u[\"a\"])(l),d=f.elements,g=0;g<d.length;g+=1){m=d[g];try{m.rules=m.rules?JSON.parse(m.rules):\"\",m.options=m.options?JSON.parse(m.options):\"\",m.displayWhen=m.displayWhen?JSON.parse(m.displayWhen):\"\"}catch(e){p[\"message\"].error(e.toString())}}return e.next=10,o({type:\"getPage\",payload:i()({},f)});case 10:case\"end\":return e.stop()}},e)}),save:r.a.mark(function e(a,s){var t,n,i,o,l,f,d,g;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.payload,n=s.call,i=t.pageId,o=t.prjId,l=t.values,f=t.elementsMap,d=[],Object.keys(l).forEach(function(e){var a=l[e];if(f[e]&&l[e]){var s=f[e].type;if(20===s)a=JSON.stringify(l[e].tableData);else if(4===s)a=l[e].format(\"YYYYMMDD\");else if(5===s)a=l[e].format(\"HHmmss\");else if(8===s){var t=l[e].map(function(e){return e.format(\"YYYYMMDD\")});a=JSON.stringify(t)}else if(11===s)a=JSON.stringify(l[e]);else if(9===s)a=JSON.stringify(l[e]);else if(12===s){var r=l[e],n=r.map(function(e){return{uid:e.uid,name:e.name,status:e.status,url:e.url}});a=JSON.stringify(n)}else 13===s&&(a=JSON.stringify(l[e]))}d.push({pageElemId:e,value:a,storageId:f[e].storageId})}),e.next=7,n(c[\"d\"],{id:i,prjId:o,data:d});case 7:g=e.sent,Object(u[\"b\"])(g)?p[\"message\"].success(\"\\u4fdd\\u5b58\\u6210\\u529f\"):p[\"message\"].error(\"\\u4fdd\\u5b58\\u5931\\u8d25:\".concat(g.msg));case 9:case\"end\":return e.stop()}},e)})},reducers:{getPage:function(e,a){return i()({},e,a.payload)}}}}}]);","extractedComments":[]}