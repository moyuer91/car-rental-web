{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[44],{\"p/du\":function(e,a,t){\"use strict\";t.r(a);var s=t(\"d6i3\"),r=t.n(s),n=t(\"p0pE\"),i=t.n(n),u=t(\"bmkC\"),l=t(\"QArB\"),p=t(\"SlhZ\");a[\"default\"]={namespace:\"visapage\",state:{pageName:\"\",descr:\"\",elements:[]},effects:{fetch:r.a.mark(function e(a,t){var s,n,c,o,f,d,m,g;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=a.payload,n=t.call,c=t.put,e.next=4,n(l[\"a\"],s);case 4:for(o=e.sent,f=Object(p[\"a\"])(o),d=f.elements,m=0;m<d.length;m+=1){g=d[m];try{g.rules=g.rules?JSON.parse(g.rules):\"\",g.options=g.options?JSON.parse(g.options):\"\",g.displayWhen=g.displayWhen?JSON.parse(g.displayWhen):\"\",g.disableWhen=g.disableWhen?JSON.parse(g.disableWhen):\"\"}catch(e){u[\"message\"].error(e.toString())}}return e.next=10,c({type:\"getPage\",payload:i()({},f)});case 10:case\"end\":return e.stop()}},e)}),save:r.a.mark(function e(a,t){var s,n,i,c,o,f,d,m,g,h,y,b;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=a.payload,n=a.callback,i=t.call,c=t.put,o=s.pageId,f=s.prjId,d=s.values,m=s.elementsMap,g=[],Object.keys(d).forEach(function(e){var a=d[e];if(m[e]&&d[e]){var t=m[e].type;if(20===t)a=JSON.stringify(d[e].tableData);else if(4===t)a=d[e].format(\"YYYY-MM-DD\");else if(5===t)a=d[e].format(\"HHmmss\");else if(8===t){var s=d[e].map(function(e){return e.format(\"YYYY-MM-DD\")});a=JSON.stringify(s)}else if(11===t)a=JSON.stringify(d[e]);else if(9===t)a=JSON.stringify(d[e]);else if(12===t){var r=d[e].fileList,n=r.map(function(e){return{uid:e.uid,name:e.name,status:e.status,url:e.url,thumbUrl:e.thumbUrl}});a=JSON.stringify(n)}else if(13===t){var i=d[e].fileList,u=i.map(function(e){return{uid:e.uid,name:e.name,status:e.status,url:e.url,thumbUrl:null}});a=JSON.stringify(u)}}g.push({pageElemId:e,value:a,storageId:m[e].storageId})}),e.next=7,i(l[\"d\"],{id:o,prjId:f,data:g});case 7:return h=e.sent,y=!0,b=!0,Object(p[\"b\"])(h)?u[\"message\"].success(\"\\u4fdd\\u5b58\\u6210\\u529f\"):(u[\"message\"].error(\"\\u4fdd\\u5b58\\u5931\\u8d25:\".concat(h.msg)),y=!1,b=!1),e.next=13,c({type:\"visaform/updateFinSts\",payload:{finished:y,pageId:o}});case 13:n&&n(b);case 14:case\"end\":return e.stop()}},e)})},reducers:{getPage:function(e,a){return i()({},e,a.payload)}}}}}]);","extractedComments":[]}