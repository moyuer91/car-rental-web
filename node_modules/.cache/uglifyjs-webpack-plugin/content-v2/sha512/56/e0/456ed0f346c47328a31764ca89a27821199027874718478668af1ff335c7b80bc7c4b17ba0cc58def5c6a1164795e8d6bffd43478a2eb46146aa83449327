{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[44],{\"p/du\":function(e,a,t){\"use strict\";t.r(a);var r=t(\"d6i3\"),s=t.n(r),n=t(\"p0pE\"),i=t.n(n),p=t(\"bmkC\"),u=t(\"QArB\"),c=t(\"SlhZ\");a[\"default\"]={namespace:\"visapage\",state:{pageName:\"\",descr:\"\",elements:[]},effects:{fetch:s.a.mark(function e(a,t){var r,n,l,o,f,d,m,g;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=t.call,l=t.put,e.next=4,n(u[\"a\"],r);case 4:for(o=e.sent,f=Object(c[\"a\"])(o),d=f.elements,m=0;m<d.length;m+=1){g=d[m];try{g.rules=g.rules?JSON.parse(g.rules):\"\",g.options=g.options?JSON.parse(g.options):\"\",g.displayWhen=g.displayWhen?JSON.parse(g.displayWhen):\"\"}catch(e){p[\"message\"].error(e.toString())}}return e.next=10,l({type:\"getPage\",payload:i()({},f)});case 10:case\"end\":return e.stop()}},e)}),save:s.a.mark(function e(a,t){var r,n,l,o,f,d,m,g,y,h,v,b;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=a.payload,n=a.callback,l=t.call,o=t.put,f=r.pageId,d=r.prjId,m=r.values,g=r.elementsMap,y=[],Object.keys(m).forEach(function(e){var a=m[e];if(g[e]&&m[e]){var t=g[e].type;if(20===t)a=JSON.stringify(m[e].tableData);else if(4===t)a=m[e].format(\"YYYY-MM-DD\");else if(5===t)a=m[e].format(\"HHmmss\");else if(8===t){var r=m[e].map(function(e){return e.format(\"YYYY-MM-DD\")});a=JSON.stringify(r)}else if(11===t)a=JSON.stringify(m[e]);else if(9===t)a=JSON.stringify(m[e]);else if(12===t){var s=m[e],n=s.map(function(e){return{uid:e.uid,name:e.name,status:e.status,url:e.url,thumbUrl:e.thumbUrl}});a=JSON.stringify(n)}else if(13===t){var p=m[e],u=p.map(function(e){return i()({},e,{thumbUrl:null})});a=JSON.stringify(u)}}y.push({pageElemId:e,value:a,storageId:g[e].storageId})}),e.next=7,l(u[\"d\"],{id:f,prjId:d,data:y});case 7:return h=e.sent,v=!0,b=!0,Object(c[\"b\"])(h)?p[\"message\"].success(\"\\u4fdd\\u5b58\\u6210\\u529f\"):(p[\"message\"].error(\"\\u4fdd\\u5b58\\u5931\\u8d25:\".concat(h.msg)),v=!1,b=!1),e.next=13,o({type:\"visaform/updateFinSts\",payload:{finished:v,pageId:f}});case 13:n&&n(b);case 14:case\"end\":return e.stop()}},e)})},reducers:{getPage:function(e,a){return i()({},e,a.payload)}}}}}]);","extractedComments":[]}