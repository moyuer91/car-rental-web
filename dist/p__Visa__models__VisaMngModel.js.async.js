(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[43],{X4rj:function(t,e,n){"use strict";n.r(e);var a=n("p0pE"),r=n.n(a),c=n("d6i3"),i=n.n(c),s=n("1l/V"),u=n.n(s),p=n("t3Un"),o=n("Qyje"),f="https://service.dameiweb.com/XPAGE";function l(t){return d.apply(this,arguments)}function d(){return d=u()(i.a.mark(function t(e){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p["a"])("".concat(f,"/visaservice/projects?").concat(Object(o["stringify"])(e))));case 1:case"end":return t.stop()}},t)})),d.apply(this,arguments)}function h(t){return w.apply(this,arguments)}function w(){return w=u()(i.a.mark(function t(e){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p["a"])("".concat(f,"/visaservice/mng_page/init_info?").concat(Object(o["stringify"])(e))));case 1:case"end":return t.stop()}},t)})),w.apply(this,arguments)}function y(t){return v.apply(this,arguments)}function v(){return v=u()(i.a.mark(function t(e){return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(p["a"])("".concat(f,"/visaservice/projects"),{method:"POST",body:e}));case 1:case"end":return t.stop()}},t)})),v.apply(this,arguments)}var b=n("SlhZ"),m=n("bmkC");e["default"]={namespace:"visaList",state:{visaList:[],pagination:{},initInfo:{}},effects:{init:i.a.mark(function t(e,n){var a,r,c,s,u;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,r=n.call,c=n.put,t.next=4,r(h,a);case 4:return s=t.sent,u=Object(b["a"])(s),t.next=8,c({type:"initPage",payload:{initInfo:u}});case 8:case"end":return t.stop()}},t)}),fetch:i.a.mark(function t(e,n){var a,r,c,s,u,p,o;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,r=n.call,c=n.put,t.next=4,r(l,a);case 4:for(s=t.sent,u=Object(b["a"])(s),p=0;p<u.length;p+=1)o=u[p],o.key=o.id;return t.next=9,c({type:"queryList",payload:{visaList:u,pagination:{pageSize:s.pageSize,total:s.total}}});case 9:case"end":return t.stop()}},t)}),add:i.a.mark(function t(e,n){var a,r,c,s;return i.a.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return a=e.payload,r=n.call,c=n.put,t.next=4,r(y,a);case 4:return s=t.sent,Object(b["b"])(s)?m["message"].success("\u65b0\u589e\u7b7e\u8bc1\u7533\u8bf7\u6210\u529f"):m["message"].error("\u65b0\u589e\u7b7e\u8bc1\u7533\u8bf7\u5931\u8d25:".concat(s.msg)),t.next=8,c({type:"fetch",payload:{}});case 8:case"end":return t.stop()}},t)})},reducers:{queryList:function(t,e){return r()({},t,e.payload)},initPage:function(t,e){return r()({},t,e.payload)}}}}}]);